5/17 ~ 5/24 (3ì£¼ì°¨)
4.Routerì™€ Redux ê·¸ë¦¬ê³  Recoilì— ëŒ€í•œ ê°œë…

https://react.vlpt.us/basic/01-concept.html # ë²¨ë¡œí¼íŠ¸ì™€ í•¨ê»˜í•˜ëŠ” ëª¨ë˜ ë¦¬ì•¡íŠ¸

### _1. Router_

ë¦¬ì•¡íŠ¸ ë¼ìš°í„°ëŠ” ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í˜ì´ì§€ ê°„ì˜ ì „í™˜ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì¢…ì¢… ì—¬ëŸ¬ ê°œì˜ í˜ì´ì§€ë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©°, ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ì´ëŸ¬í•œ í˜ì´ì§€ ê°„ì— ì›í™œí•˜ê²Œ ì´ë™í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ ë¼ìš°í„°ëŠ” ì´ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, SPA(Single Page Application) êµ¬ì¡°ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

**1. ë¦¬ì•¡íŠ¸ ë¼ìš°í„° ì„¤ì¹˜**

ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” í”„ë¡œì íŠ¸ì— ë¦¬ì•¡íŠ¸ ë¼ìš°í„°ë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰í•˜ì—¬ íŒ¨í‚¤ì§€ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`npm install react-router-dom`

**2. ê¸°ë³¸ ì„¤ì •**

ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´, `BrowserRouter` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë£¨íŠ¸ë¥¼ ê°ì‹¸ì¤ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ URLê³¼ UI ìƒíƒœ ê°„ì˜ ì—°ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
import './App.css'
import { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';
import HelloAbout from './third_study/HelloAbout';
import Counter from './third_study/Counter';
import Test from './third_study/Test';

function App2() {

  return (
    <>
        <Router>
            <div className="App">
                <Test />
                <HelloAbout/>
                <nav>
                <Link to="/">link</Link> | &nbsp;
                <Link to="/about">about link</Link> | &nbsp;
                <Link to="/count">count link</Link>
                </nav>
                <Routes>
                <Route path="/" element={<Test />} />
                <Route path="/about" element={<HelloAbout/>} />
                <Route path="/count" element={<Counter/>} />
                </Routes>
            </div>
        </Router>
    </>
  )
}

export default App2
```

### **Link / NavLink**

- í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì—†ì´ URLì„ ë³€ê²½í•˜ê³  ì´ë™í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸.
### **useNavigate / useParams / useLocation**

- `useNavigate`: í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ í˜ì´ì§€ ì´ë™.
    
- `useParams`: URLì˜ íŒŒë¼ë¯¸í„° ê°’ ì¶”ì¶œ.
    
- `useLocation`: í˜„ì¬ URL ì •ë³´ ì ‘ê·¼.
-  ì‚¬ìš© ì˜ˆì œ)
```javascript
import {
  BrowserRouter, Routes, Route, Link,
  useNavigate, useParams, useLocation
} from 'react-router-dom';

function App3() {
  return (
    <BrowserRouter>
      <nav>
        <Link to="/user/123" state={{ from: 'nav' }}>User 123</Link>
      </nav>
      <Routes>
        <Route path="/user/:id" element={<User />} />
        <Route path="/dashboard" element={<Dashboard />} />
      </Routes>
    </BrowserRouter>
  );
}


export default App3

function User() {
  const { id } = useParams();
  const location = useLocation();
  const navigate = useNavigate();

  return (
    <div>
      <h2>ìœ ì € ID: {id}</h2>
      <p>ì´ë™í•´ì˜¨ ê²½ë¡œ: {JSON.stringify(location.state)}</p>
      <button onClick={() => navigate('/dashboard')}>
        ëŒ€ì‹œë³´ë“œë¡œ ì´ë™
      </button>
    </div>
  );
}

function Dashboard() {
  return <h2>ëŒ€ì‹œë³´ë“œ</h2>;
}

```

|ê°œë…|ì„¤ëª…|
|---|---|
|BrowserRouter|ë¼ìš°íŒ…ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸|
|Routes / Route|URL ê²½ë¡œì— ë”°ë¥¸ ì»´í¬ë„ŒíŠ¸ ë§¤í•‘|
|Link / NavLink|í˜ì´ì§€ ê°„ ì´ë™ ë§í¬|
|useNavigate|ì½”ë“œì—ì„œ í˜ì´ì§€ ì´ë™ ì œì–´|
|useParams|ë™ì  URL íŒŒë¼ë¯¸í„° ì¶”ì¶œ|
|useLocation|í˜„ì¬ ê²½ë¡œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°|

`useNavigate`, `useParams`, `useLocation`ì€ **React Routerì—ì„œ ë¼ìš°íŒ…ì„ ë™ì ìœ¼ë¡œ ì œì–´**í•  ë•Œ ë§¤ìš° ìœ ìš©í•œ í›…(hook)ë“¤ì…ë‹ˆë‹¤.

### _2. Redux_

## âœ… ì™œ Reduxê°€ í•„ìš”í• ê¹Œ?

ReactëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„**ë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ ì•±ì´ ì»¤ì§ˆìˆ˜ë¡:

- ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ê°™ì€ ë°ì´í„°ë¥¼ ê³µìœ í•´ì•¼ í•˜ê±°ë‚˜
    
- ë¶€ëª¨ â†’ ìì‹ â†’ ìì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê³„ì† ë‚´ë ¤ì¤˜ì•¼ í•  ë•Œ (`props drilling`)
    
- ìƒíƒœê°€ ë³µì¡í•´ì ¸ì„œ ì¶”ì í•˜ê¸° ì–´ë ¤ìš¸ ë•Œ
    

ì´ëŸ´ ë•Œ Reduxê°€ ë“±ì¥í•©ë‹ˆë‹¤.  

**ì¤‘ì•™ ì €ì¥ì†Œ(store)** í•˜ë‚˜ë¥¼ ë§Œë“¤ì–´ì„œ, **ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ê±°ê¸°ì„œ ìƒíƒœë¥¼ êº¼ë‚´ ì“°ê³ **, ì—…ë°ì´íŠ¸í•˜ë„ë¡ í•¨ìœ¼ë¡œì¨ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤.

## ğŸ”§ Reduxì˜ í•µì‹¬ êµ¬ì„±ìš”ì†Œ

1. `store` (ì €ì¥ì†Œ)
    
    - **ì•±ì˜ ìƒíƒœ(state)ë¥¼ ì „ë¶€ ë³´ê´€**í•˜ëŠ” ì¤‘ì•™ ì¥ì†Œ
        
2.  `action` (í–‰ë™)
    
    - ìƒíƒœë¥¼ **ì–´ë–»ê²Œ ë°”ê¿€ì§€ ì„¤ëª…í•˜ëŠ” ê°ì²´**
        
    - ì˜ˆ: `{ type: 'INCREMENT' }`
        
3.  `reducer` (ìƒíƒœ ë³€ê²½ê¸°)
    
    - í˜„ì¬ ìƒíƒœì™€ ì•¡ì…˜ì„ ë°›ì•„ì„œ **ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜**
        
    - ìˆœìˆ˜ í•¨ìˆ˜ì—¬ì•¼ í•¨
        
4.  `dispatch` (ì‹¤í–‰)
    
    - ì•¡ì…˜ì„ **ìŠ¤í† ì–´ì— ì „ë‹¬í•´ì„œ ìƒíƒœ ë³€ê²½ì„ ìš”ì²­**í•¨

## âœ… 1ë‹¨ê³„: Redux ì„¤ì¹˜

`npm install @reduxjs/toolkit react-redux`

ì „í†µì ì¸ ReduxëŠ” ì„¤ì •ì´ ë²ˆê±°ë¡­ê³  ì½”ë“œê°€ ì¥í™©í–ˆì–´ìš”.  
`Redux Toolkit`ì€ **ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ë¥¼ ì¤„ì´ê³ **, **ë¹„ë™ê¸° ì²˜ë¦¬ì™€ ëª¨ë“ˆí™”**ë¥¼ ë” ì‰½ê²Œ í•´ì¤ë‹ˆë‹¤.


âœ… 2ë‹¨ê³„: Redux êµ¬ì„± 

```javascript
// src/app/store.js
import { configureStore } from '@reduxjs/toolkit';
import counterReducer from '../features/counter/counterSlice';

export const store = configureStore({
  reducer: {
    counter: counterReducer,
  },
});

```

```javascript
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import { Provider } from 'react-redux';
import {store} from './third_study/app/store';
import './index.css'
// import App from './App.jsx'
// import App2 from './App2.jsx'
// import App3 from './App3.jsx'
import App4 from './App4.jsx'

createRoot(document.getElementById('root')).render(
  <StrictMode>

    {/* <App /> */}
    {/* <App2 /> */}
    {/* <App3 /> */}

    <Provider store={store}>
      <App4 />
    </Provider>

  </StrictMode>,
)

```


```javascript
// src/App.js
import React from 'react';
import Counter from './third_study/components/Counter';

function App4() {
  return (
    <div>
      <h2>Redux Toolkit Counter ì˜ˆì œ</h2>
      <Counter />
    </div>
  );
}

export default App4;

```

```javascript
import React from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { increment, decrement } from '../features/counter/counterSlice';

const Counter = () => {
  const count = useSelector(state => state.counter.value);
  const dispatch = useDispatch();

  return (
    <div>
      <h1>Counter: {count}</h1>
      <button onClick={() => dispatch(increment())}>ì¦ê°€</button>
      <button onClick={() => dispatch(decrement())}>ê°ì†Œ</button>
	    </div>
  );
};

export default Counter;

```

ì‚¬ìš©ì í´ë¦­ â†’ dispatch(increment()) í˜¸ì¶œ
               â†“
    ì•¡ì…˜ { type: 'counter/increment' } ìƒì„±
               â†“
      reducerê°€ í˜„ì¬ ìƒíƒœë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒˆ ìƒíƒœ ê³„ì‚°
               â†“
      storeê°€ ìƒíƒœ ì—…ë°ì´íŠ¸ ë° êµ¬ë… ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§

### `CreateAsyncThunk vs. RTK Query`

`createAsyncThunk`ì™€ `RTK Query`ëŠ” **Redux Toolkitì—ì„œ ë¹„ë™ê¸° ë¡œì§(API, íŒŒì¼ ì½ê¸° ë“±)ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë‘ ê°€ì§€ ë°©ì‹**ì…ë‹ˆë‹¤. ë‘˜ ë‹¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚¼ ë•Œ ì‚¬ìš©ë˜ì§€ë§Œ, **ëª©ì ê³¼ ì¶”ìƒí™” ìˆ˜ì¤€ì´ ë‹¤ë¦…ë‹ˆë‹¤.**

## ğŸ” ì°¨ì´ì  ìš”ì•½

| í•­ëª©         | `createAsyncThunk`                    | `RTK Query`                                |
| ---------- | ------------------------------------- | ------------------------------------------ |
| âœ… ëª©ì        | ì¼ë°˜ì ì¸ ë¹„ë™ê¸° ë¡œì§ ì²˜ë¦¬ (API, íŒŒì¼ ì½ê¸° ë“±)         | REST / GraphQL ê¸°ë°˜ API ë°ì´í„° ì²˜ë¦¬ì— íŠ¹í™”           |
| ğŸ› ï¸ ì„¤ì • ë³µì¡ë„ | ì§ì ‘ slice, reducers, thunk êµ¬ì„± í•„ìš”       | ìë™ ìƒì„± (API endpoints ì„¤ì •ë§Œ í•˜ë©´ ë¨)             |
| ğŸ” ìºì‹±      | âŒ ì—†ìŒ (ì§ì ‘ êµ¬í˜„í•´ì•¼ í•¨)                      | âœ… ë‚´ì¥ ìºì‹±, ë¦¬í˜ì¹˜, ì¤‘ë³µ ë°©ì§€ ë“±                      |
| ğŸ’¾ ìƒíƒœê´€ë¦¬    | ìˆ˜ë™ (`loading`, `error`, `data` ì§ì ‘ ì •ì˜) | ìë™ (`isLoading`, `isSuccess`, `data` ë“± ì œê³µ) |
| ğŸ§ª í…ŒìŠ¤íŠ¸ ìš©ì´ì„± | ë†’ì€ ì œì–´ë ¥ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì‰¬ì›€                       | í…ŒìŠ¤íŠ¸ëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ ë‚´ë¶€ ë¡œì§ì´ ë” ë³µì¡                     |
| â›“ï¸ ìœ ì—°ì„±     | ë§¤ìš° ìœ ì—° (API ì™¸ ë‹¤ë¥¸ async ë¡œì§ë„ ì²˜ë¦¬ ê°€ëŠ¥)      | API í†µì‹ ì— íŠ¹í™”ë¨ (ë¹„ API ì‘ì—…ì—ëŠ” ë¶€ì í•©)               |

| êµ¬ë¶„     | createAsyncThunk            | RTK Query                        |
| ------ | --------------------------- | -------------------------------- |
| ëª©ì      | ë¹„ë™ê¸° ì•¡ì…˜ ì²˜ë¦¬ ë° ìƒíƒœ ê´€ë¦¬           | API í˜¸ì¶œ ë° ì„œë²„ ìƒíƒœ ìë™ ê´€ë¦¬, ìºì‹±         |
| ìƒíƒœê´€ë¦¬   | ì§ì ‘ `extraReducers`ì—ì„œ ê´€ë¦¬í•´ì•¼ í•¨ | ìë™ìœ¼ë¡œ ìƒíƒœ(ë¡œë”©, ì—ëŸ¬, ë°ì´í„°) ê´€ë¦¬          |
| ì‚¬ìš© í¸ì˜ì„± | ìƒëŒ€ì ìœ¼ë¡œ ìˆ˜ë™ì , ì§ì ‘ ë¦¬ë“€ì„œ ì‘ì„± í•„ìš”     | React í›…ìœ¼ë¡œ ì‰½ê²Œ ì‚¬ìš© ê°€ëŠ¥               |
| ê¸°ëŠ¥     | ê¸°ë³¸ì ì¸ ë¹„ë™ê¸° ë¡œì§ ì²˜ë¦¬              | ìºì‹±, í´ë§, ì¬ì‹œë„, ì¿¼ë¦¬/ë®¤í…Œì´ì…˜ êµ¬ë¶„ ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ |
| ì í•©í•œ ê²½ìš° | ê°„ë‹¨í•œ ë¹„ë™ê¸° ì‘ì—…, ì»¤ìŠ¤í…€ ë¡œì§ ì‘ì„± í•„ìš”í•  ë•Œ | ë³µì¡í•œ API í†µì‹ , ì„œë²„ ìƒíƒœ ê´€ë¦¬ ìµœì í™” í•„ìš”í•  ë•Œ   |
## 1. `createAsyncThunk`

### ê°œë…

`createAsyncThunk`ëŠ” Redux Toolkitì—ì„œ ë¹„ë™ê¸° ì•¡ì…˜ì„ ì‰½ê²Œ ë§Œë“¤ê¸° ìœ„í•´ ì œê³µí•˜ëŠ” í•¨ìˆ˜ì•¼. ì˜ˆë¥¼ ë“¤ì–´, API í˜¸ì¶œ ê°™ì€ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ë¦¬ë•ìŠ¤ ìƒíƒœì— ë°˜ì˜í•  ë•Œ ì“´ë‹¤.

### íŠ¹ì§•

- ë¹„ë™ê¸° ë¡œì§ì„ ì•¡ì…˜ ìƒì„±ìì— ê°ì‹¸ì„œ ë§Œë“ ë‹¤.
    
- thunk ë‚´ë¶€ì—ì„œ `dispatch`ì™€ `getState`ì— ì ‘ê·¼ ê°€ëŠ¥.
    
- ìë™ìœ¼ë¡œ `pending`, `fulfilled`, `rejected` ì•¡ì…˜ íƒ€ì…ì„ ë§Œë“¤ì–´ì„œ, ë¹„ë™ê¸° ì‘ì—… ìƒíƒœ(ë¡œë”©, ì„±ê³µ, ì‹¤íŒ¨)ë¥¼ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

```javascript
import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';

export const fetchUserById = createAsyncThunk(
  'users/fetchByIdStatus',
  async (userId, thunkAPI) => {
    const response = await fetch(`/api/users/${userId}`);
    return await response.json();
  }
);

const userSlice = createSlice({
  name: 'user',
  initialState: { entities: {}, loading: 'idle' },
  extraReducers: (builder) => {
    builder
      .addCase(fetchUserById.pending, (state) => {
        state.loading = 'loading';
      })
      .addCase(fetchUserById.fulfilled, (state, action) => {
        state.loading = 'succeeded';
        state.entities[action.payload.id] = action.payload;
      })
      .addCase(fetchUserById.rejected, (state) => {
        state.loading = 'failed';
      });
  }
});
```

2. RTK Query (Redux Toolkit Query)
ê°œë…
RTK QueryëŠ” Redux Toolkitì— ë‚´ì¥ëœ ë°ì´í„° ìš”ì²­ê³¼ ìºì‹±ì— ìµœì í™”ëœ ê°•ë ¥í•œ íˆ´í‚·ì´ì•¼. API í†µì‹ ì„ ë” ì‰½ê²Œ ë§Œë“¤ê³ , ì„œë²„ ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ê´€ë¦¬í•´ì¤€ë‹¤.

íŠ¹ì§•
API ìš”ì²­, ì‘ë‹µ ìºì‹±, ìë™ ë¦¬í”„ë ˆì‹œ, ì¬ì‹œë„ ë“± ë§ì€ ê¸°ëŠ¥ì´ ë‚´ì¥ë˜ì–´ ìˆìŒ.

API ì„œë¹„ìŠ¤ ë‹¨ìœ„ë¡œ ì¿¼ë¦¬/ë®¤í…Œì´ì…˜ì„ ì •ì˜í•˜ê³ , React í›… í˜•íƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.

ìƒíƒœê´€ë¦¬ ì½”ë“œ(loading, error, data)ë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì¤˜ì„œ, ë³„ë„ì˜ ë¦¬ë“€ì„œ ì‘ì„±ì´ í•„ìš”ì—†ìŒ.

createAsyncThunkë³´ë‹¤ ë” ì¶”ìƒí™”ë˜ê³  í¸ë¦¬í•¨.

```javascript
import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';

export const userApi = createApi({
  reducerPath: 'userApi',
  baseQuery: fetchBaseQuery({ baseUrl: '/api' }),
  endpoints: (builder) => ({
    getUserById: builder.query({
      query: (id) => `users/${id}`,
    }),
  }),
});

export const { useGetUserByIdQuery } = userApi;
```

```javascript
function User({ userId }) {
  const { data, error, isLoading } = useGetUserByIdQuery(userId);

  if (isLoading) return <div>Loading...</div>;
  if (error) return <div>Error!</div>;

  return <div>{data.name}</div>;
}
```
### _3. Recoil_

## ğŸ§  Recoilì´ë€?

- Facebookì—ì„œ ê°œë°œí•œ React ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬.
    
- **Reactì˜ ìƒíƒœ ì‹œìŠ¤í…œì„ í™•ì¥**í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ì „ì—­ ìƒíƒœ ê³µìœ ë¥¼ ì‰½ê²Œ í•¨.
    
- **Context API**, **Redux**ë³´ë‹¤ ë” ê°€ë³ê³ , **Reactì™€ ìì—°ìŠ¤ëŸ½ê²Œ í†µí•©**ë¨.
    
- Reactì˜ ë™ê¸°ì  ë Œë”ë§ íŒ¨í„´ê³¼ ì˜ ë§ìŒ.

## ğŸš€ í•µì‹¬ ê°œë…

### 1. `**Atom**`

- ìƒíƒœ(state)ì˜ ìµœì†Œ ë‹¨ìœ„
    
- ì „ì—­ì—ì„œ ê³µìœ  ê°€ëŠ¥í•œ ìƒíƒœ
    

```javascript
// atoms.js
import { atom } from 'recoil';

export const counterState = atom({
  key: 'counterState',     // ì „ì—­ì ìœ¼ë¡œ ê³ ìœ í•œ ID
  default: 0,              // ì´ˆê¸°ê°’
});

```

---

### 2. `**Selector**`

- íŒŒìƒ ìƒíƒœ (ê³„ì‚°ëœ ê°’)
    
- ë‹¤ë¥¸ atomì´ë‚˜ selectorë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘
    
```javascript 
//selectors.js(ë˜ëŠ” atom.jsì— í•¨ê»˜ ë„£ì–´ë„ ë¨ë¨)
import { selector } from 'recoil';
import { counterState } from './atoms';

export const doubleCounterState = selector({
  key: 'doubleCounterState',
  get: ({ get }) => {
    const count = get(counterState);
    return count * 2;
  },
});

```

---

### 3. `**RecoilRoot**`

- ìµœìƒë‹¨ ì»´í¬ë„ŒíŠ¸ì— ê°ì‹¸ì•¼ Recoil ìƒíƒœë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
    

```javascript
//index.js
import React from 'react';
import ReactDOM from 'react-dom';
import { RecoilRoot } from 'recoil';
import App from './App';

ReactDOM.render(
  <RecoilRoot>
    <App />
  </RecoilRoot>,
  document.getElementById('root')
);

```

---

## âœ… ì‚¬ìš© ì˜ˆì œ

```javascript
// Counter.jsx
import { useRecoilState, useRecoilValue } from 'recoil';
import { counterState, doubleCounterState } from './atoms';

function Counter() {
  const [count, setCount] = useRecoilState(counterState);
  const double = useRecoilValue(doubleCounterState);

  return (
    <div>
      <p>ì¹´ìš´íŠ¸: {count}</p>
      <p>ë‘ ë°°: {double}</p>
      <button onClick={() => setCount(count + 1)}>+1</button>
    </div>
  );
}

```

---

## ğŸ”„ ì£¼ìš” Hook ì •ë¦¬

| Hook                    | ì„¤ëª…                        |
| ----------------------- | ------------------------- |
| `useRecoilState()`      | ìƒíƒœ ì½ê¸° + ì“°ê¸° (`useState`ì²˜ëŸ¼) |
| `useRecoilValue()`      | ìƒíƒœ ì½ê¸° ì „ìš©                  |
| `useSetRecoilState()`   | ìƒíƒœ ì“°ê¸° ì „ìš©                  |
| `useResetRecoilState()` | ìƒíƒœ ì´ˆê¸°í™”                    |

---

## ğŸ” Recoil vs Redux vs Context

|í•­ëª©|Recoil|Redux|Context API|
|---|---|---|---|
|ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸|ì ìŒ|ë§ìŒ|ì ìŒ|
|ëŸ¬ë‹ ì»¤ë¸Œ|ì‰¬ì›€|ì¤‘ê°„ ~ ì–´ë ¤ì›€|ì‰¬ì›€|
|ìƒíƒœ ì¶”ì |ìë™ìœ¼ë¡œ ì˜ì¡´ì„± ì¶”ì |ìˆ˜ë™ìœ¼ë¡œ reducer ì‘ì„±|ë¶ˆí¸í•œ ì „ì—­ ê´€ë¦¬|
|ë¹„ë™ê¸° ì§€ì›|ë‚´ì¥ (Selector)|middleware í•„ìš”|ì—†ìŒ|

### * `React, Recoil, MobX` ì¥ë‹¨ì 
https://blog.naver.com/tokhandev/223170857280