### _ì´ë²ˆì£¼ í•™ìŠµí•  ë‚´ìš©_

3. React Hooksì™€ `LifeCycle`
	 3-0 ì½”ë“œ ë¦¬ë·°
	 3-1 `useState`/ `useEffect`/ `useReducer`/ `useMemo`/ `useCallback`/ `useRef`/ ì‚¬ìš©ì ì •ì˜ `Hooks`
	 3-2 ì»´í¬ë„ŒíŠ¸ì˜ ë¼ì´í”„ì‚¬ì´í´
	 3-3 Formìš”ì†Œ ì»¨íŠ¸ë¡¤(ì œì–´/ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸)
	 3-4 ì„¤ë¬¸ì¡°ì‚¬ êµ¬í˜„ í”„ë¡œì íŠ¸(ê³¼ì œ)
--------------------------------
	 3-5 `webStorage`ì˜ ê°œë…
	 3-6 ë©”ëª¨ì¥ êµ¬í˜„ í”„ë¡œì íŠ¸(ê³¼ì œ)

https://velog.io/@minw0_o/%EB%A6%AC%EC%95%A1%ED%8A%B8-hook-%EC%B4%9D-%EC%A0%95%EB%A6%AC - Hook ì´ì •ë¦¬í¸
### _3-1 `useState`/ `useEffect`/ `useReducer`/ `useMemo`/ `useCallback`/ `useRef`/ ì‚¬ìš©ì ì •ì˜ `Hooks`_

##### 1. `useState` 
- ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ(state)ë¥¼ ê´€ë¦¬í•´ì£¼ê¸° ìœ„í•´ ì‚¬ìš©
- ë³€ê²½ë˜ëŠ” ê°’ì„ ì €ì¥í•˜ê³ , ê°’ì´ ë°”ë€Œë©´ í™”ë©´ì„ ìë™ìœ¼ë¡œ ë Œë”ë§ í•´ ì¤Œ 

- ì˜ˆì œ ì„¤ëª… `UseStateExample.jsx`
	- **í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸(`setCount(prev => prev + 1)`)ëŠ” íì— ìŒ“ì¼ ë•Œ "ì´ì „ ìƒíƒœì˜ ê²°ê³¼"ë¥¼ ê¸°ë‹¤ë ¤ì„œ ì²˜ë¦¬ë˜ì§€ë§Œ**,  
	- **ê°’ ê¸°ë°˜ ì—…ë°ì´íŠ¸(`setCount(count + 1)`)ëŠ” "í˜„ì¬ ë Œë” ì‹œì ì˜ ê°’"ì„ ë¯¸ë¦¬ ê³„ì‚°í•´ì„œ íì— ë„£ê¸° ë•Œë¬¸ì—**, ìˆœì°¨ì ìœ¼ë¡œ ëˆ„ì ë˜ì§€ ì•Šê³  **ë®ì–´ì“°ê¸°ì²˜ëŸ¼ ë™ì‘**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```javascript
import { useState } from 'react';

export default function UseStateExample() {
  const [count, setCount] = useState(0);

  const handleNonFunctionalUpdate = () => {
    setCount(count + 1);
    setCount(count + 1);
    setCount(count + 1);
  };

  const handleFunctionalUpdate = () => {
    setCount(prev => prev + 1);
    setCount(prev => prev + 1);
    setCount(prev => prev + 1);
  };

  return (
    <div style={{ fontFamily: 'Arial', padding: '20px' }}>
      <h2>Count: {count}</h2>
      <button onClick={handleNonFunctionalUpdate}>
        Add 3 (Non-Functional setCount)
      </button>
      <button onClick={handleFunctionalUpdate} style={{ marginLeft: '10px' }}>
        Add 3 (Functional setCount)
      </button>
    </div>
  );
}
```

- ì˜ˆì œ ì„¤ëª… `UseStateExample2.jsx`
	`...prev`: 
	ì „ê°œ ì—°ì‚°ì(spread operator) ë¥¼ ì“°ëŠ” ì´ìœ ëŠ” ê¸°ì¡´ ë°°ì—´ì„ ë³µì‚¬í•´ì„œ ìƒˆ ë°°ì—´ì„ ë§Œë“¤ì–´ì•¼ Reactê°€ ìƒíƒœê°€ ë³€í–ˆë‹¤ë¼ê³  ì¸ì‹í•¨

```javascript
import React, { useState } from 'react';

export default function UseStateExample2() {
    const [names, setNames] = useState(['AAA', 'BBB', 'CCC']);
    const [input, setInput] = useState('');

    const handleInputChange = (e) => {
        setInput(e.target.value);
    };

    const handleUpload = () => {
        setNames((prev) => (
            [...prev, input] 
        ));
    } 

    return (
        <div>
            <input type="text" value={input} onChange={handleInputChange}/>
            <button onClick={handleUpload}>Upload</button>
            {names.map((name, index) => (
                <p key={index}>{name}</p>
            ))}
        </div>
    );
}
```

- ì˜ˆì œ ì„¤ëª… `UseStateExample3.jsx`
	- `const [value1, setValue1] = useState(heavyWork("ë§¤ ë Œë”ë§ë§ˆë‹¤")); // ë§¤ ë Œë”ë§ë§ˆë‹¤ heavyWork() í˜¸ì¶œ`
	- `const [value2, setValue2] = useState(() => heavyWork("ì²« ë Œë”ë§ë•Œë§Œ")); // ì²« ë Œë”ë§ ë•Œë§Œ heavyWork() í˜¸ì¶œ`

```javascript
import React, { useState } from 'react';

// ë³µì¡í•œ ê³„ì‚°ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” í•¨ìˆ˜
const heavyWork = (value) => {
    console.log(value, 'ë³µì¡í•œ ê³„ì‚° ì¤‘...');
    let result = 0;
    for (let i = 0; i < 10; i++) result += i; // ë³µì¡í•œ ê³„ì‚°
    return result;
};

// ì²« ë²ˆì§¸ ë°©ì‹: useState(heavyWork)
export function App1() {
    const [value1, setValue1] = useState(heavyWork("ë§¤ ë Œë”ë§ë§ˆë‹¤")); // ë§¤ ë Œë”ë§ë§ˆë‹¤ heavyWork() í˜¸ì¶œ

    const handleClick = () => {
        setValue1((prev) => prev + 1);
    };

    return (
        <div>
            <h1>ì²« ë²ˆì§¸ ë°©ì‹: useState(heavyWork)</h1>
            <p>Value: {value1}</p>
            <button onClick={handleClick}>Increase Value</button>
        </div>
    );
}

// ë‘ ë²ˆì§¸ ë°©ì‹: useState(() => heavyWork())
export function App2() {
    const [value2, setValue2] = useState(() => heavyWork("ì²« ë Œë”ë§ë•Œë§Œ")); // ì²« ë Œë”ë§ ë•Œë§Œ heavyWork() í˜¸ì¶œ

    const handleClick = () => {
        setValue2((prev) => prev + 1);
    };

    return (
        <div>
            <h1>ë‘ ë²ˆì§¸ ë°©ì‹: useState(() =&gt; heavyWork())</h1>
            <p>Value: {value2}</p>
            <button onClick={handleClick}>Increase Value</button>
        </div>
    );
}

```
##### 2. `useEffect` 
- ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸°ì— ë”°ë¼ íŠ¹ì • ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•
- ì •ë¦¬ ì‘ì—…ìœ¼ í†µí•´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•˜ëŠ” ë°©ë²•
- ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸, ì—…ë°ì´íŠ¸, ì–¸ë§ˆìš´íŠ¸ ë  ë•Œ ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŒ
- ê¸°ë³¸ì ìœ¼ë¡œ useEffectëŠ” ì½œë°±í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ìŒ
- ì˜ì¡´ì„± ë°°ì—´(dependency array)ì€ `useEffect hook`ì´ ì–¸ì œ ì‹¤í–‰ë ì§€ ê²°ì •í•˜ëŠ” ê¸°ì¤€.
- í´ë¦°ì—… í•„ìš” (ex. `setInterval, clearInterval`)
```javascript
useEffect(() => {
  // ì‹¤í–‰í•  ì½”ë“œ
}, [ì˜ì¡´ì„±1, ì˜ì¡´ì„±2, ...]);
```
##### âœ… ì˜ì¡´ì„± ë°°ì—´ì´ í•˜ëŠ” ì¼

|ì˜ì¡´ì„± ë°°ì—´|ì‹¤í–‰ íƒ€ì´ë°|
|---|---|
|`[]` (ë¹ˆ ë°°ì—´)|ì»´í¬ë„ŒíŠ¸ê°€ **ë§ˆìš´íŠ¸ë  ë•Œ í•œ ë²ˆë§Œ** ì‹¤í–‰|
|`[name]`|`name`ì´ **ë³€ê²½ë  ë•Œë§ˆë‹¤** ì‹¤í–‰|
|`[count, name]`|`count`ë‚˜ `name`ì´ **ë‘˜ ì¤‘ í•˜ë‚˜ë¼ë„ ë³€ê²½ë˜ë©´** ì‹¤í–‰|
|ì—†ìŒ (`useEffect(() => { ... })`)|**ëª¨ë“  ë Œë”ë§ë§ˆë‹¤** ì‹¤í–‰ë¨ (ì˜ì¡´ì„± ì¶”ì  ì•ˆ í•¨)|
- í´ë¦°ì—… ì˜ˆì œ
```javascript
import React, { useState, useEffect } from 'react';

export default function App2() {
    const [showTimer, setShowTimer] = useState(false);

    return (
        <div>
            {showTimer && <Timer />}
            <button onClick={() => setShowTimer(!showTimer)}>Toggle Timer</button>
        </div>
    );
}


export const Timer = (props) => {
    useEffect(() => {
        const timer = setInterval(() => {
            console.log('íƒ€ì´ë¨¸ ëŒì•„ê°€ëŠ” ì¤‘...');
        }, 1000);

        //íƒ€ì´ë¨¸ë¥¼ ë‹¤ ì“°ê³  ì •ë¦¬í•˜ëŠ” ì‘ì—…(í´ë¦°ì—…)
        return () => {
            clearInterval(timer);
            console.log('íƒ€ì´ë¨¸ê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
            
        };

    }, []);

    return (
        <div>
            <span>íƒ€ì´ë¨¸ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ì½˜ì†”ì„ ë³´ì„¸ìš”!</span>
        </div>
    );
};
```


##### 2. `useReducer`
- https://blog.naver.com/shimdh/223625421240
- ì»´í¬ë„ŒíŠ¸ì˜ `state`ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ë˜ ë‹¤ë¥¸ ë°©ë²•
- ì—¬ëŸ¬ ê°œì˜ í•˜ìœ„ ê°’ì„ í¬í•¨í•˜ëŠ” ë³µì¡í•œ `state`ë¥¼ ë‹¤ë£°ë•Œ useReducerë¥¼ ì‚¬ìš©í•˜ë©´ ì½”ë“œë¥¼ ë” ê¹”ë”í•˜ê²Œ ì“¸ ìˆ˜ ìˆë‹¤.
- `reducer` : stateë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì—­í• 
- `dispatch` : state ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ë„êµ¬
- `action`: ìš”êµ¬ì˜ ë‚´ìš©

```javascript
// ì˜ˆ: useReducerë¡œ ì»´í¬ë„ŒíŠ¸ ë‚´ì—ì„œ ìƒíƒœ ê´€ë¦¬
import React, { useReducer } from 'react';

const initialState = { count: 0 };

function reducer(state, action) {

  switch (action.type) {
    case 'INCREMENT': return { count: state.count + 1 };
    case 'DECREMENT': return { count: state.count - 1 };
    default: return state;
  }
}

export default function UseReducerExample() {
  const [state, dispatch] = useReducer(reducer, initialState);
  return (
    <>
      <p>Count: {state.count}</p>
      <button onClick={() => dispatch({ type: 'DECREMENT' })}>-</button>
      <button onClick={() => dispatch({ type: 'INCREMENT' })}>+</button>
    </>
  );
}

```
##### 3. `useMemo`

|êµ¬ë¶„|`useMemo`|`useEffect`|
|---|---|---|
|**ì–¸ì œ ì‹¤í–‰ë¨?**|ë Œë”ë§ ì¤‘ (ë™ê¸°)|ë Œë”ë§ í›„ (ë¹„ë™ê¸°)|
|**ì£¼ ìš©ë„**|ë¬´ê±°ìš´ ê³„ì‚° ê²°ê³¼ ìºì‹±|ë¹„ë™ê¸° ì‘ì—…, ì‚¬ì´ë“œ ì´í™íŠ¸ ì²˜ë¦¬ (ì˜ˆ: API, setState)|
|**ê°’ì„ ì–´ë–»ê²Œ ì „ë‹¬?**|ë³€ìˆ˜ì²˜ëŸ¼ ë°”ë¡œ ì‚¬ìš©|`setState`ë¥¼ í†µí•´ ë Œë”ë§ ê°±ì‹ |

- ì˜ˆì œ: `UseMemoVSuseEffect2.jsx`
	https://velog.io/@jinyoung985/React-useMemo%EB%9E%80#-3-usememo-%EC%98%88%EC%A0%9C-2
	`useEffect`ì˜ ì˜ì¡´ì„± ë°°ì—´ì— locationì„ ë„£ì—ˆëŠ”ë° number stateë¥¼ ë³€ê²½í•´ë„ useEffectê°€ ì‹¤í–‰ëœë‹¤.
	ê·¸ ì´ìœ ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ê°ì²´ëŠ” ì›ì‹œ íƒ€ì…ê³¼ëŠ” ë‹¤ë¥´ê²Œ ê°’ì´ ì €ì¥ë  ë•Œ ì£¼ì†Œ ê°’ìœ¼ë¡œ ì €ì¥ë˜ê¸° ë•Œë¬¸ì´ë‹¤.
	ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë¦¬ì•¡íŠ¸ì—ì„  number stateê°€ ë°”ë€Œë©´ App ì»´í¬ë„ŒíŠ¸ê°€ ì¬í˜¸ì¶œë˜ë©´ì„œ locationì˜ ì£¼ì†Œê°’ì´ ë³€ê²½ì´ ë˜ì—ˆê¸° ë•Œë¬¸ì— locationì´ ë³€ê²½ì´ ë˜ì—ˆë‹¤ê³  ì¸ì‹ì„ í•œë‹¤.
	ì—¬ê¸°ì„œë„Â `useMemo`Â í›…ì„ í†µí•´ ì´ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.
	ìœ„ ì‹ì—ì„œ ì£¼ì„ì„ í†µí•´ 1ë²ˆ locationê³¼ 2ë²ˆ locationì„ êµ¬ë¶„í•´ë†¨ìœ¼ë‹ˆ ë‘ê°œë¥¼ ë²ˆê°ˆì•„ê°€ë©° ì‚¬ìš©í•´ë³´ë©´ ì–´ë–¤ ì°¨ì´ê°€ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

##### 4. `useCallback` 

- useCallbackì€ ë©”ëª¨ì´ì œì´ì…˜ ê¸°ë²•ì„ í™œìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì˜ ì„±ëŠ¥ì„ ìµœì í™”í•˜ëŠ” ë„êµ¬ì´ë‹¤.
    
- ë©”ëª¨ì´ì œì´ì…˜ì€ ë°˜ë³µì ìœ¼ë¡œ ê³„ì‚°í•´ì•¼ í•˜ëŠ” ê°’ì„ ìºì‹±í•˜ì—¬ ì´ì „ì— ê³„ì‚°í•œ ê°’ì„ ì¬ì‚¬ìš©í•˜ëŠ” ìµœì í™” ê¸°ë²•ì´ë‹¤.
    
- useCallbackì˜ ê²½ìš°, ì¸ìë¡œ ì „ë‹¬ëœ ì½œë°± í•¨ìˆ˜ ê·¸ ìì²´ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•˜ì—¬ í•„ìš”í•  ë•Œë§ˆë‹¤ ì¬ì‚¬ìš©í•˜ë„ë¡ ë•ëŠ”ë‹¤.
    
- `useCallback`ì€ ë‘ ê°œì˜ ì¸ìë¥¼ ë°›ìœ¼ë©°, ì²« ë²ˆì§¸ ì¸ìëŠ” ë©”ëª¨ì´ì œì´ì…˜í•  **ì½œë°± í•¨ìˆ˜**ì´ê³ , ë‘ ë²ˆì§¸ ì¸ìëŠ” **ì˜ì¡´ì„± ë°°ì—´**ì´ë‹¤.

- `useCallback`ì€ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ ìƒˆë¡œ ë§Œë“œëŠ” ë¹„ìš©ì„ ì¤„ì´ê¸° ìœ„í•´ **ì˜ì¡´ì„±ì´ ë³€í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ í•¨ìˆ˜ë¥¼ ì¬ì‚¬ìš©**í•©ë‹ˆë‹¤.
    
- ì´ëŠ” ìì‹ ì»´í¬ë„ŒíŠ¸ì— í•¨ìˆ˜ë¥¼ propìœ¼ë¡œ ë„˜ê¸¸ ë•Œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë§‰ê¸° ìœ„í•œ ì£¼ìš” ìš©ë„ì…ë‹ˆë‹¤.

- #####ğŸ‘Œ ì–¸ì œ `useCallback`ì„ ì¨ì•¼ í•˜ë‚˜?

- í•¨ìˆ˜ê°€ **ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ propsë¡œ ì „ë‹¬ë˜ëŠ” ê²½ìš°**
    
- í•¨ìˆ˜ê°€ **`useEffect` ì˜ì¡´ì„± ë°°ì—´ì— ë“¤ì–´ê°€ëŠ” ê²½ìš°**
    
- ê³ ì„±ëŠ¥ ìµœì í™”ê°€ í•„ìš”í•œ ìƒí™©
    

##### ğŸ” ë¬¸ì œ: **ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ë¦¬ë Œë”ë§ë¨**

```javascript
// Parent.js
import React, { useState } from 'react';
import Child from './Child';

function Parent() {
  const [count, setCount] = useState(0);

  // ì´ í•¨ìˆ˜ëŠ” ë Œë”ë§ë  ë•Œë§ˆë‹¤ ìƒˆë¡œ ìƒì„±ë¨
  const handleClick = () => {
    console.log('Clicked');
  };

  return (
    <>
      <button onClick={() => setCount(count + 1)}>ë¶€ëª¨ count ì¦ê°€</button>
      <Child onClick={handleClick} />
    </>
  );
}

export default Parent;

```

```javascript
// Child.js
import React from 'react';

const Child = React.memo(({ onClick }) => {
  console.log('Child ë Œë”ë§ë¨');
  return <button onClick={onClick}>ìì‹ ë²„íŠ¼</button>;
});

export default Child;
```
##### ğŸ’¥ ê²°ê³¼

- `Parent`ê°€ `setCount`ë¡œ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ `handleClick`ì´ ìƒˆë¡œ ìƒì„±ë¨
    
- `Child`ëŠ” `React.memo`ë¡œ ê°ì‹¸ì ¸ ìˆì–´ë„ `onClick` propsê°€ **ìƒˆ í•¨ìˆ˜ë¡œ ì¸ì‹ë˜ì–´ ë¦¬ë Œë”ë§ë¨**
    
- ì¦‰, **ë¶ˆí•„ìš”í•œ ìì‹ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ ë°œìƒ**
    

##### âœ… í•´ê²°: `useCallback` ì‚¬ìš©

```javascript
const handleClick = useCallback(() => {
  console.log('Clicked');
}, []);
```


##### âœ… 3. **`React.memo`, `useMemo`, `useCallback`ê³¼ í•¨ê»˜ ì“¸ ë•Œ**

##### ğŸ” ë¬¸ì œ: **ë¶ˆí•„ìš”í•œ ì¬ê³„ì‚° ë˜ëŠ” ë¦¬ë Œë”ë§**

```javascript
const expensiveFunction = () => {
  console.log('ë¬´ê±°ìš´ ê³„ì‚° ìˆ˜í–‰ ì¤‘...');
  return 10000;
};

const MemoizedChild = React.memo(({ calculate }) => {
  const result = calculate();
  return <div>{result}</div>;
});
```

```javascript
function Parent() {
  const [count, setCount] = useState(0);

  const calculate = () => expensiveFunction();

  return (
    <>
      <button onClick={() => setCount(count + 1)}>ë¶€ëª¨ count ì¦ê°€</button>
      <MemoizedChild calculate={calculate} />
    </>
  );
}
```
ğŸ’¥ ë¬¸ì œì 
calculate í•¨ìˆ˜ê°€ ë§¤ë²ˆ ìƒˆë¡œ ë§Œë“¤ì–´ì ¸ì„œ

MemoizedChildëŠ” propsê°€ ë°”ë€Œì—ˆë‹¤ê³  ì¸ì‹í•˜ê³  ê³„ì† ë¦¬ë Œë”ë§ + ê³„ì‚° ìˆ˜í–‰

âœ… í•´ê²°: `useCallback` ì‚¬ìš©
```javascript
const calculate = useCallback(() => expensiveFunction(), []);
```

##### âœ… ì •ë¦¬

|ìƒí™©|ë¬¸ì œ|í•´ê²°|
|---|---|---|
|ìì‹ì— í•¨ìˆ˜ props ì „ë‹¬|`React.memo` ë¬´ì‹œí•˜ê³  ìì‹ì´ ê³„ì† ë¦¬ë Œë”ë§ë¨|`useCallback`ìœ¼ë¡œ í•¨ìˆ˜ ë©”ëª¨ì´ì œì´ì…˜|
|í•¨ìˆ˜ê°€ `useEffect` ì˜ì¡´ì„±ì— í¬í•¨|ì˜ì¡´ì„± ë¹„êµì—ì„œ í•­ìƒ ë‹¤ë¥´ê²Œ ì¸ì‹ â†’ `useEffect` ë§¤ë²ˆ ì‹¤í–‰|`useCallback` ì‚¬ìš©|
|ë¦¬ë Œë” ë°©ì§€ìš© `React.memo`ë‚˜ ê³„ì‚° ìºì‹±ìš© `useMemo` ì‚¬ìš© ì‹œ|propsë‚˜ ì—°ì‚° í•¨ìˆ˜ê°€ ìƒˆë¡œ ìƒì„±ë˜ì–´ ìµœì í™” ë¬´íš¨|`useCallback`, `useMemo`ë¡œ ì°¸ì¡° ê³ ì •|
##### âœ… ì •ë¦¬ ìš”ì•½

|êµ¬ë¶„|React.memo|useMemo|
|---|---|---|
|ëŒ€ìƒ|ì»´í¬ë„ŒíŠ¸|ê³„ì‚°ëœ ê°’|
|ìš©ë„|ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ ë°©ì§€|ë¬´ê±°ìš´ ê³„ì‚° ì¬ì‹¤í–‰ ë°©ì§€|
|ì‘ë™ ë°©ì‹|props ë¹„êµ í›„ ê°™ìœ¼ë©´ ë¦¬ë Œë”ë§ ìŠ¤í‚µ|ì˜ì¡´ì„± ë°°ì—´ ë³´ê³  ê°’ ìºì‹±|
|ì‚¬ìš© ìœ„ì¹˜|ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ ê°ìŒ€ ë•Œ (`React.memo()`)|ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê°’ ê³„ì‚°í•  ë•Œ|
###### ğŸ”½ ìš°ì„ ìˆœìœ„ ìš”ì•½ (ë Œë”ë§ íƒ€ì´ë° ê¸°ì¤€)

|í›… ì¢…ë¥˜|ì‹¤í–‰ ì‹œì |ì˜ˆì‹œ|ì„¤ëª…|
|---|---|---|---|
|`useState`, `useMemo`, `useCallback`|**ë Œë”ë§ ì§ì „ (ë™ê¸°)**|ì´ˆê¸°ê°’ ê³„ì‚°|ìƒíƒœ ì¤€ë¹„|
|`useLayoutEffect`|**ë Œë”ë§ ì§í›„ (ë™ê¸°)**|ë ˆì´ì•„ì›ƒ ì¸¡ì •|í™”ë©´ ë°˜ì˜ ì „ ì¡°ì •|
|`useEffect`|**ë Œë”ë§ ì´í›„ (ë¹„ë™ê¸°)**|API ìš”ì²­ ë“±|í™”ë©´ ê·¸ë¦° í›„ ì‹¤í–‰|

---

##### ğŸ“Œ ê²°ë¡ :

- `useState` â†’ ë Œë”ë§ ì „, ìƒíƒœ ì´ˆê¸°í™”
- `useEffect` â†’ ë Œë”ë§ í›„, ë¶€ìˆ˜ íš¨ê³¼(ì˜ˆ: DB ìš”ì²­, ì´ë²¤íŠ¸ ë“±ë¡ ë“±)
- í›…ì€ "ìš°ì„ ìˆœìœ„"ë³´ë‹¤ëŠ” **"ì‹¤í–‰ íƒ€ì´ë°"** ê°œë…ìœ¼ë¡œ ì´í•´í•˜ëŠ” ê²Œ ì •í™•í•©ë‹ˆë‹¤.
    
ë” ê¹Šê²Œ ë“¤ì–´ê°€ìë©´, `useLayoutEffect`ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì˜ ì•ˆ ì“°ê³ , ë Œë”ë§ ì‹œì  ì¡°ì ˆì´ í•„ìš”í•œ íŠ¹ì • ìƒí™©(ì˜ˆ: ì• ë‹ˆë©”ì´ì…˜ ìœ„ì¹˜ ì¡°ì •)ì—ë§Œ ì¨ìš”.


## ğŸ’¡ ê²°ë¡ : ì–¸ì œ ì¨ì•¼ í•˜ëŠ”ì§€? 
(`useMemo, React.memo, useCallback`)

- ì»´í¬ë„ŒíŠ¸ê°€ **ì‹¤ì œë¡œ ë¦¬ë Œë”ê°€ ìì£¼ ë°œìƒí•˜ê³ **, ê·¸ **ë Œë”ë§ ë¹„ìš©ì´ í´ ë•Œ**.
    
- ë˜ëŠ” **props ë³€ê²½ ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ìì‹ ë¦¬ë Œë”ê°€ ë°œìƒ**í•  ë•Œ.
    
- ê·¸ ì™¸ì—ëŠ” ê³¼ìš©í•˜ì§€ ë§ê³  **ê¸°ë³¸ì ìœ¼ë¡œëŠ” ì•ˆ ì“°ê³ **, ì„±ëŠ¥ ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ í”„ë¡œíŒŒì¼ë§ í›„ ì ìš©í•˜ì„¸ìš”.

##### ğŸ¯ ìƒí™© 1. ë³µì¡í•œ ê³„ì‚°ì„ ë§¤ë²ˆ í•˜ì§€ ì•Šê²Œ í•˜ê³  ì‹¶ë‹¤ â†’ `useMemo`

#####âœ… ë¬¸ì œ: ë Œë”ë§ë§ˆë‹¤ ê³„ì‚°í•¨ (ì„±ëŠ¥ ì €í•˜)

```javascript
function App({ number }) {
  // ê³„ì‚°ì´ ë¬´ê²ë‹¤ê³  ê°€ì •
  const expensiveValue = computeHeavyValue(number);

  return <div>{expensiveValue}</div>;
}
```

##### ğŸ›  í•´ê²°: `useMemo` ì‚¬ìš©

```javascript
function App({ number }) {
  const expensiveValue = useMemo(() => computeHeavyValue(number), [number]);

  return <div>{expensiveValue}</div>;
}
```

ğŸ“Œ **ì–¸ì œ?**

- `computeHeavyValue`ê°€ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê³„ì‚°ì¼ ë•Œ
    
- `number`ê°€ ë°”ë€” ë•Œë§Œ ì¬ê³„ì‚°í•˜ê³  ì‹¶ì„ ë•Œ
    

---

##### ğŸ¯ ìƒí™© 2. ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ props ë•Œë¬¸ì— ìì£¼ ë¦¬ë Œë”ë¨ â†’ `useCallback`

##### âœ… ë¬¸ì œ: ì½œë°± í•¨ìˆ˜ê°€ ë§¤ë²ˆ ìƒˆë¡œ ìƒì„±ë¼ì„œ ë¦¬ë Œë” ë°œìƒ

```javascript
function Parent() {
  const [count, setCount] = useState(0);

  const handleClick = () => {
    console.log('Clicked');
  };

  return (
    <>
      <button onClick={() => setCount(count + 1)}>Add</button>
      <Child onClick={handleClick} />
    </>
  );
}

const Child = React.memo(({ onClick }) => {
  console.log('Child render');
  return <button onClick={onClick}>Child Button</button>;
});
```

##### âš ï¸ ë¬¸ì œ ì„¤ëª…

- `Parent`ê°€ ë¦¬ë Œë”ë  ë•Œë§ˆë‹¤ `handleClick` í•¨ìˆ˜ê°€ ìƒˆë¡œ ë§Œë“¤ì–´ì§ â†’ `Child`ë„ ë¦¬ë Œë”ë¨
    

---

##### ğŸ›  í•´ê²°: `useCallback` ì‚¬ìš©

```javascript
const handleClick = useCallback(() => {
  console.log('Clicked');
}, []);
```

ğŸ“Œ **ì–¸ì œ?**

- ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ `React.memo`ë¡œ ê°ì‹¸ì ¸ ìˆê³ ,
    
- ë¶€ëª¨ê°€ ìì£¼ ë¦¬ë Œë”ë˜ì§€ë§Œ, ìì‹ propsëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ê³  ì‹¶ì„ ë•Œ
    

---

#### ğŸ¯ ìƒí™© 3. ì»´í¬ë„ŒíŠ¸ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ìì£¼ ë¦¬ë Œë”ë¨ â†’ `React.memo`

##### âœ… ë¬¸ì œ: propsê°€ ë°”ë€Œì§€ ì•Šì•˜ëŠ”ë°ë„ ë¦¬ë Œë”

```javascript
function Parent() {
  const [count, setCount] = useState(0);

  return (
    <>
      <button onClick={() => setCount(count + 1)}>Add</button>
      <Child name="ì² ìˆ˜" />
    </>
  );
}

function Child({ name }) {
  console.log('Child render');
  return <div>{name}</div>;
}
```
- `Parent`ê°€ ë¦¬ë Œë”ë  ë•Œë§ˆë‹¤ `Child`ë„ ë¦¬ë Œë”ë¨ (ë¶ˆí•„ìš”í•¨)
    

---

##### ğŸ›  í•´ê²°: `React.memo`ë¡œ ê°ì‹¸ê¸°

```javascript
const Child = React.memo(({ name }) => {
  console.log('Child render');
  return <div>{name}</div>;
});
```

ğŸ“Œ **ì–¸ì œ?**

- ë¶€ëª¨ê°€ ìì£¼ ë¦¬ë Œë”ë˜ì§€ë§Œ, ìì‹ì€ propsê°€ ë³€í•˜ì§€ ì•Šì„ ë•Œ
    
- ë Œë” ë¹„ìš©ì´ í¬ê±°ë‚˜ ì„±ëŠ¥ì´ ì¤‘ìš”í•  ë•Œ

##### 5. `useRef`

#####âœ… `useRef` ì£¼ìš” ìš©ë„

1. **DOM ìš”ì†Œì— ì ‘ê·¼**
2. **ì»´í¬ë„ŒíŠ¸ ê°„ ë Œë”ë§ ì—†ì´ ê°’ ì €ì¥**
3. **íƒ€ì´ë¨¸ ID, ì´ì „ ê°’ ì €ì¥ ë“±**

---

##### âœ… ìƒíƒœ ì €ì¥ìš© ì˜ˆì œ (ë Œë”ë§ ë°œìƒ ì•ˆ í•¨)

```javascript
import React, { useRef, useState } from 'react';

function ClickCounter() {
  const countRef = useRef(0);
  const [stateCount, setStateCount] = useState(0);

  const handleClick = () => {
    countRef.current += 1;
    console.log('Ref Count:', countRef.current); // ë Œë”ë§ ì•ˆ ë¨
    setStateCount(stateCount + 1); // ë Œë”ë§ ë°œìƒ
  };

  return (
    <div>
      <p>State Count: {stateCount}</p>
      <button onClick={handleClick}>Click me</button>
    </div>
  );
}

export default ClickCounter;

```
##### 6. `ì‚¬ìš©ì ì •ì˜ Hook` 

##### ğŸ§© ëª©í‘œ: ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìˆ«ìê°€ 1ì”© ì¦ê°€í•˜ëŠ” ê¸°ëŠ¥

##### ğŸ”¸ ê¸°ì¡´ ë°©ì‹ (ì¤‘ë³µ ë°œìƒ ê°€ëŠ¥)

```javascript
import { useState } from 'react';

function Counter() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>+1</button>
    </div>
  );
}
```

##### âœ… Custom Hookìœ¼ë¡œ ë¶„ë¦¬í•˜ê¸°

1. `useCounter`ë¼ëŠ” ì»¤ìŠ¤í…€ Hook ë§Œë“¤ê¸°
```javascript
// useCounter.js
import { useState } from 'react';

function useCounter(initialValue = 0) {
  const [count, setCount] = useState(initialValue);
  const increment = () => setCount(prev => prev + 1);
  const decrement = () => setCount(prev => prev - 1);
  return { count, increment, decrement };
}

export default useCounter;

```

2. `useCounter`ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸
```javascript
// Counter.js
import React from 'react';
import useCounter from './useCounter';

function Counter() {
  const { count, increment, decrement } = useCounter(0);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={increment}>+1</button>
      <button onClick={decrement}>-1</button>
    </div>
  );
}

```

##### â›ï¸ ì´ë¦„ ê·œì¹™

- í•­ìƒ `use`ë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤: `useCounter`, `useUser`, `useForm` ë“±
- ê·¸ë˜ì•¼ Reactê°€ ì´ í•¨ìˆ˜ê°€ Hookì´ë¼ëŠ” ê±¸ ì¸ì‹í•˜ê³  ê·œì¹™ì„ ê²€ì‚¬í•©ë‹ˆë‹¤

### _3-2 ì»´í¬ë„ŒíŠ¸ì˜ ë¼ì´í”„ì‚¬ì´í´_`

https://huirin.tistory.com/204

### _3-3 Formìš”ì†Œ ì»¨íŠ¸ë¡¤(ì œì–´/ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸)_`
 
https://cometruedream.tistory.com/273

### _3-5 `webStorage`ì˜ ê°œë…_`

 - `localStorage` , `sessionStorage`
	 - ë‘ê°€ì§€ ë°©ë²• ëª¨ë‘ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì—­ì— ì ‘ê·¼ ê°€ëŠ¥ 
	 - ì¦‰, ê°™ì€ ë„ë©”ì¸ ë‚´ì—ì„œ ê°€ëŠ¥

 - `localStorage` 
	: ë°ì´í„°ë¥¼ ì§ì ‘ ì‚­ì œí•˜ì§€ ì•ŠëŠ” í•œ ë¸Œë¼ìš°ì €ë¥¼ ë‹«ì•„ë„ ì €ì¥ëœ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.
	: [ key : value] í˜•íƒœë¡œ ë¬¸ìì—´ë¡œ ì €ì¥, JSON íƒ€ì…ì´ë‹¤.
	
 - `sessionStorage`
	 : ë¸Œë¼ìš°ì € ì°½ì´ ë‹«íˆë©´ ì„¸ì…˜ì´ ì¢…ë£Œë˜ë©´ì„œ storageì— ì €ì¥ëœ ë°ì´í„°ë„ ì†Œë©¸ëœë‹¤.
	
- **`window.localStorage`  / `window.sessionStorage` ì‚¬ìš© í•¨ìˆ˜ë“¤**
    
    - `- setItem`(kí‚¤:vë°¸ë¥˜) : í‚¤ ì„¸íŒ… í•¨ìˆ˜
    - `- getItem`(í‚¤) : í‚¤ê°’ ë°›ì•„ì˜¤ëŠ” ê²ƒ
    - `- removeItem()` : ì•„ì´í…œ ì‚­ì œ
    - `- clear ( )` : ì‚­ì œ
    - `- length` : ì „ì²´ ì•„ì´í…œì˜ ê°œìˆ˜
    - `- key(idx)` : ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì˜ ì¸ë±ìŠ¤ ë²ˆí˜¸ë¡œ í‚¤ê°’ì„ ì¶œë ¥í•´ ì£¼ëŠ” ë©”ì†Œë“œ

### ( ì˜ˆì œ íŒŒì¼ëª… ) `LocalVsSessionStorage.jsx`



## âœ… ì‹¤ì œ ì‚¬ìš© ì‚¬ë¡€

### 1. **ì‚¬ìš©ì ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€**

ë¡œê·¸ì¸ í›„ **ì‚¬ìš©ì ì •ë³´**ë¥¼ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ê³ , í˜ì´ì§€ê°€ ìƒˆë¡œ ê³ ì¹¨ë˜ì–´ë„ ìƒíƒœë¥¼ ìœ ì§€í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
import React, { useEffect, useState } from 'react';

const LoginStatus = () => {
  const [isLoggedIn, setIsLoggedIn] = useState(false);

  // ë¡œê·¸ì¸ í›„ ì‚¬ìš©ì í† í° ì €ì¥ í•¨ìˆ˜
  const login = () => {
    localStorage.setItem('userToken', 'abcdef123456');
    setIsLoggedIn(true);
  };

  // ìƒˆë¡œê³ ì¹¨ í›„ ì‚¬ìš©ì í† í° í™•ì¸ í•¨ìˆ˜
  const checkLoginStatus = () => {
    const token = localStorage.getItem('userToken');
    if (token) {
      setIsLoggedIn(true);
    } else {
      setIsLoggedIn(false);
    }
  };

  // ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
  useEffect(() => {
    checkLoginStatus();
  }, []);

  return (
    <div>
      <h1>{isLoggedIn ? 'ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ëœ ìƒíƒœì…ë‹ˆë‹¤.' : 'ë¡œê·¸ì¸ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.'}</h1>
      <button onClick={login}>ë¡œê·¸ì¸</button>
    </div>
  );
};

export default LoginStatus;

```

### 2. **ì‚¬ìš©ì í…Œë§ˆ ì„¤ì • ì €ì¥**

ì‚¬ìš©ìê°€ **ì–´ë‘ìš´ ëª¨ë“œ** ë˜ëŠ” **ë°ì€ ëª¨ë“œ**ë¥¼ ì„ íƒí•˜ë©´, í•´ë‹¹ ì„¤ì •ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ê³ , ì´í›„ì— í˜ì´ì§€ë¥¼ ë‹¤ì‹œ ì—´ì—ˆì„ ë•Œ ê·¸ ì„¤ì •ì„ ê·¸ëŒ€ë¡œ ì ìš©í•©ë‹ˆë‹¤.

```javascript
import React, { useEffect, useState } from 'react';

const ThemeToggle = () => {
  const [theme, setTheme] = useState('light'); // ì´ˆê¸° í…Œë§ˆë¥¼ 'light'ë¡œ ì„¤ì •

  // í…Œë§ˆë¥¼ localStorageì— ì €ì¥
  const saveTheme = (theme) => {
    localStorage.setItem('theme', theme);
  };

  // ì €ì¥ëœ í…Œë§ˆë¥¼ ë¡œë“œ
  const loadTheme = () => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      setTheme(savedTheme);
      document.body.className = savedTheme; // bodyì— í…Œë§ˆ í´ë˜ìŠ¤ ì ìš©
    }
  };

  // í˜ì´ì§€ê°€ ë¡œë“œë  ë•Œ ì €ì¥ëœ í…Œë§ˆ ë¶ˆëŸ¬ì˜¤ê¸°
  useEffect(() => {
    loadTheme();
  }, []);

  // í…Œë§ˆ ë³€ê²½ ì‹œ
  const toggleTheme = () => {
    const newTheme = theme === 'dark' ? 'light' : 'dark';
    setTheme(newTheme);
    saveTheme(newTheme);
    document.body.className = newTheme;
  };

  return (
    <div>
      <button id="themeButton" onClick={toggleTheme}>
        Switch to {theme === 'dark' ? 'Light' : 'Dark'} Theme
      </button>
    </div>
  );
};

export default ThemeToggle;

```

### 3. **ë¡œì»¬ ë°ì´í„° ì´ˆê¸°í™” (ì˜ˆ: ë¡œê·¸ì•„ì›ƒ ì‹œ)**

ë¡œê·¸ì•„ì›ƒí•  ë•Œ **ì €ì¥ëœ ì‚¬ìš©ì ì •ë³´ì™€ ì¸ì¦ í† í°**ì„ ì‚­ì œí•˜ê³  ì•±ì„ ì´ˆê¸°í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
import React from 'react';
import { useHistory } from 'react-router-dom';

const LogoutButton = () => {
  const history = useHistory(); // useHistory í›…ì„ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ ì´ë™

  // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ í•¨ìˆ˜
  const logout = () => {
    // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì‚¬ìš©ì ì •ë³´ ë° í† í° ì‚­ì œ
    localStorage.removeItem('userToken');
    localStorage.removeItem('userId');
    
    // ë¡œê·¸ì•„ì›ƒ ì•Œë¦¼
    alert('ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤!');
    
    // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë””ë ‰ì…˜
    history.push('/login');
  };

  return (
    <button onClick={logout}>ë¡œê·¸ì•„ì›ƒ</button>
  );
};

export default LogoutButton;

```

